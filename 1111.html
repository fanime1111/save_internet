<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberSafe 2025: Ultimate Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
     
        :root {
            --bg-dark: #050505;
            --glass: rgba(20, 20, 20, 0.95);
            --glass-border: 1px solid rgba(255, 255, 255, 0.15);
            --accent: #3b82f6;
            --success: #10b981;
            --error: #ef4444;
            --text-main: #ffffff;
            --text-muted: #9ca3af;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; user-select: none; }

        body {
            font-family: 'Inter', sans-serif;
            background: #000;
            color: var(--text-main);
            height: 100vh;
            overflow: hidden;
        }

       
        #desktop {
            width: 100%; height: 100%;
            background: url('https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=2564&auto=format&fit=crop') no-repeat center center/cover;
            position: relative;
        }

        .taskbar {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            height: 70px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            display: flex; align-items: center; gap: 15px; padding: 0 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            z-index: 100;
        }

        .dock-icon {
            width: 50px; height: 50px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex; align-items: center; justify-content: center;
            font-size: 28px;
            background: rgba(255,255,255,0.1);
            position: relative;
        }

        .dock-icon:hover { transform: translateY(-10px) scale(1.1); background: rgba(255,255,255,0.2); }
        .dock-tooltip {
            position: absolute; top: -40px; left: 50%; transform: translateX(-50%);
            background: #222; padding: 5px 10px; border-radius: 5px; font-size: 0.8rem;
            opacity: 0; transition: 0.2s; pointer-events: none; white-space: nowrap;
        }
        .dock-icon:hover .dock-tooltip { opacity: 1; top: -50px; }

        .xp-widget {
            position: absolute; top: 20px; right: 20px;
            background: rgba(0,0,0,0.7); padding: 10px 20px;
            border-radius: 20px; border: var(--glass-border);
            font-family: 'JetBrains Mono', monospace;
            font-weight: bold; color: var(--accent);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
        }

      
        .window {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            opacity: 0;
            width: 1000px; height: 600px;
            background: #1a1a1a;
            border-radius: 12px;
            border: var(--glass-border);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
            display: none; 
            flex-direction: column;
            overflow: hidden;
            z-index: 10;
            animation: openWindow 0.3s forwards cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes openWindow {
            to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        .win-header {
            height: 44px; background: #222;
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 16px; border-bottom: 1px solid #333;
            flex-shrink: 0;
        }
        .win-title { font-weight: 600; font-size: 0.9rem; color: #ddd; }
        .win-close {
            width: 28px; height: 28px; border-radius: 6px;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; color: #aaa; transition: 0.2s;
        }
        .win-close:hover { background: var(--error); color: #fff; }
        .win-body { flex: 1; overflow: hidden; display: flex; position: relative; }

        .gmail-container { display: flex; width: 100%; height: 100%; background: #121212; }
        .g-sidebar {
            width: 200px; background: #1e1e1e; padding: 20px 10px;
            border-right: 1px solid #333; display: flex; flex-direction: column; gap: 5px;
        }
        .g-nav-item {
            padding: 10px 15px; border-radius: 8px; cursor: pointer; color: #ccc; font-size: 0.9rem;
        }
        .g-nav-item.active, .g-nav-item:hover { background: #333; color: #fff; }
        
        .g-list { width: 320px; background: #121212; border-right: 1px solid #333; overflow-y: auto; }
        .g-email-item {
            padding: 15px; border-bottom: 1px solid #2a2a2a; cursor: pointer; transition: 0.2s;
        }
        .g-email-item:hover { background: #1f1f1f; }
        .g-email-item.unread { background: #1a1c20; border-left: 3px solid var(--accent); }
        .g-sender { font-weight: 700; font-size: 0.9rem; color: #eee; margin-bottom: 4px; }
        .g-subj { font-size: 0.85rem; color: #fff; margin-bottom: 4px; }
        .g-prev { font-size: 0.8rem; color: #888; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }
        
        .g-star-icon { float: right; font-size: 1.2rem; color: #444; transition:0.2s; }
        .g-star-icon.active { color: gold; }

        .g-content { flex: 1; padding: 30px; background: #121212; overflow-y: auto; }
        .g-view-header { margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid #333; }
        .g-avatar-circle {
            width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(45deg, #444, #666);
            display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px;
        }
        .g-actions { margin-top: 30px; display: flex; gap: 10px; flex-wrap: wrap; }

  
        .vk-container { display: flex; width: 100%; height: 100%; background: #19191a; }
        .vk-list { width: 280px; border-right: 1px solid #2c2c2d; overflow-y: auto; background: #222222; }
        .vk-chat-preview {
            padding: 12px; display: flex; gap: 12px; cursor: pointer; border-bottom: 1px solid #2c2c2d;
        }
        .vk-chat-preview:hover { background: #2b2b2b; }
        .vk-chat-preview.active { background: #333333; border-left: 3px solid var(--accent); }
        .vk-ava { width: 48px; height: 48px; border-radius: 50%; background: #444; background-size: cover; flex-shrink: 0; }
        .vk-info { overflow: hidden; }
        .vk-name { font-weight: 600; font-size: 0.95rem; color: #e1e3e6; margin-bottom: 3px; }
        .vk-last { font-size: 0.85rem; color: #828282; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        .vk-dialog { flex: 1; display: flex; flex-direction: column; background: #19191a; }
        .vk-messages-area { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
        .vk-bubble {
            max-width: 85%; padding: 10px 16px; font-size: 0.95rem; line-height: 1.4; border-radius: 16px; position: relative;
        }
        .vk-in { align-self: flex-start; background: #333333; color: #fff; border-bottom-left-radius: 4px; }
        .vk-out { align-self: flex-end; background: var(--accent); color: #fff; border-bottom-right-radius: 4px; }
        
        .vk-input-area {
            padding: 15px; background: #222; border-top: 1px solid #333; display: flex; gap: 10px; flex-wrap: wrap; flex-shrink: 0;
        }

        .browser-shell { display: flex; flex-direction: column; height: 100%; background: #fff; color: #000; }
        .browser-toolbar {
            background: #f1f3f4; padding: 8px 15px; display: flex; align-items: center; gap: 15px; border-bottom: 1px solid #ddd;
        }
        .url-bar {
            flex: 1; background: #fff; border: 1px solid #ccc; border-radius: 20px; padding: 6px 15px;
            font-family: 'JetBrains Mono', monospace; font-size: 0.9rem; display: flex; align-items: center; gap: 10px;
        }
        .lock-icon { color: #10b981; }
        .lock-icon.unsafe { color: #ef4444; }
        
        .web-viewport { flex: 1; padding: 40px; overflow-y: auto; text-align: center; background: #fff; }
        .web-hero { max-width: 600px; margin: 0 auto; border: 1px solid #eee; padding: 30px; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .btn-web {
            padding: 10px 20px; border-radius: 5px; border: none; font-weight: bold; cursor: pointer; margin: 5px;
        }

        .store-layout { background: #1c1c1e; height: 100%; overflow-y: auto; padding: 20px; }
        .store-hero {
            background: linear-gradient(135deg, #ff00cc, #333399);
            padding: 30px; border-radius: 15px; margin-bottom: 25px; color: white;
        }
        .store-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; }
        .app-card {
            background: #2c2c2e; padding: 15px; border-radius: 12px; display: flex; flex-direction: column; align-items: center; text-align: center;
            transition: 0.2s; border: 1px solid transparent;
        }
        .app-card:hover { background: #3a3a3c; transform: translateY(-5px); }
        .app-card-icon { font-size: 3rem; margin-bottom: 10px; }
        .app-rating { color: #ffd700; font-size: 0.8rem; margin: 5px 0; }
        .app-perms { font-size: 0.7rem; color: #aaa; margin: 10px 0; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 4px; width: 100%; }


        .files-layout { background: #202020; height: 100%; padding: 20px; display: grid; grid-template-columns: repeat(auto-fill, 100px); gap: 20px; align-content: start; }
        .file-icon {
            display: flex; flex-direction: column; align-items: center; cursor: pointer; text-align: center;
            padding: 10px; border-radius: 5px;
        }
        .file-icon:hover { background: rgba(255,255,255,0.1); }
        .f-img { font-size: 2.5rem; margin-bottom: 5px; }
        .f-name { font-size: 0.8rem; color: #ddd; word-break: break-all; }

        .settings-layout { background: #111; height: 100%; display: flex; }
        .set-sidebar { width: 200px; background: #1a1a1a; padding: 20px; flex-shrink: 0; display: flex; flex-direction: column; gap: 5px; }
        .set-nav-btn { padding: 10px; border-radius: 8px; cursor: pointer; color: #777; font-weight: 600; font-size: 0.9rem; }
        .set-nav-btn:hover { background: #252525; color: #ddd; }
        .set-nav-btn.active { background: #2563eb; color: #fff; }

        .set-content { flex: 1; padding: 40px; overflow-y: auto; }
        .toggle-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 0; border-bottom: 1px solid #333;
        }
        .toggle-switch {
            width: 50px; height: 26px; background: #333; border-radius: 13px; position: relative; cursor: pointer; transition: 0.3s;
        }
        .toggle-switch.on { background: var(--success); }
        .toggle-switch::after {
            content: ''; position: absolute; top: 3px; left: 3px; width: 20px; height: 20px;
            background: #fff; border-radius: 50%; transition: 0.3s;
        }
        .toggle-switch.on::after { transform: translateX(24px); }

        .updates-layout { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; background: #333; padding: 20px; text-align: center; }
        
        .update-card-container {
            width: 100%; max-width: 500px;
            background: #fff; color: #000; border-radius: 10px; overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        .upd-header { padding: 15px; display: flex; align-items: center; gap: 10px; border-bottom: 1px solid #ccc; }
        .upd-body { padding: 30px; }
        
        .upd-fake-red { background: #ffebee; }
        .upd-fake-red .upd-header { background: #ffcdd2; }
        
        .upd-fake-ad { background: #fff8e1; }
        .upd-fake-ad .upd-header { background: #ffecb3; }

        .upd-real-win { background: #f3f4f6; font-family: 'Segoe UI', sans-serif; }
        .upd-real-win .upd-header { background: #e5e7eb; }

        .upd-btn-row { margin-top: 20px; display: flex; gap: 10px; justify-content: center; }

  
        .btn { padding: 8px 16px; border-radius: 6px; font-weight: 600; cursor: pointer; border: none; }
        .btn-primary { background: var(--accent); color: #fff; }
        .btn-danger { background: var(--error); color: #fff; }
        .btn-success { background: var(--success); color: #000; }
        .btn-secondary { background: #e0e0e0; color: #000; }

        #feedback-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 999;
            display: none; justify-content: center; align-items: center; backdrop-filter: blur(5px);
        }
        .fb-modal {
            background: #1a1a1a; padding: 40px; border-radius: 20px; border: 1px solid #444;
            text-align: center; max-width: 500px; width: 90%;
        }
        .fb-title { font-size: 2rem; font-weight: 800; margin-bottom: 15px; }
        .fb-text { font-size: 1.1rem; line-height: 1.6; color: #ccc; margin-bottom: 30px; }

        @media (max-width: 768px) {
            .window {
                width: 100% !important;
                height: calc(100% - 80px) !important; 
                top: 0 !important; left: 0 !important;
                transform: none !important; border-radius: 0 0 15px 15px;
                opacity: 1 !important; animation: none !important; z-index: 50;
            }

            body, #desktop { position: fixed; width: 100%; height: 100%; }
            .dock-tooltip { display: none !important; }

            .taskbar { width: 95%; bottom: 10px; height: 60px; gap: 10px; padding: 0 10px; justify-content: space-around; }
            .dock-icon { width: 40px; height: 40px; font-size: 20px; }
            .dock-icon:hover { transform: none; }

            .xp-widget { top: 10px; right: 10px; left: 10px; text-align: center; font-size: 0.8rem; z-index: 5; }
            .win-header { padding: 0 10px; }

            .gmail-container { flex-direction: column; }
            .g-sidebar { width: 100%; flex-direction: row; overflow-x: auto; padding: 5px; border-right: none; border-bottom: 1px solid #333; flex-shrink: 0; }
            .g-nav-item { padding: 8px 12px; font-size: 0.8rem; white-space: nowrap; }
            .g-list { width: 100%; flex: 1; }
            
            .g-content { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #121212; z-index: 60; display: none; }
            .g-content.active { display: block; }

            .vk-container { position: relative; }
            .vk-list { width: 100%; border-right: none; }
            .vk-dialog { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #19191a; z-index: 60; display: none; }
            .vk-dialog.active { display: flex; }

            .browser-toolbar { flex-wrap: wrap; gap: 5px; }
            .url-bar { font-size: 0.7rem; width: 100%; order: 3; margin-top: 5px; }
            .web-viewport { padding: 15px; }
            
            .store-grid { grid-template-columns: repeat(2, 1fr); }
            
            .settings-layout { flex-direction: column; }
            .set-sidebar { width: 100%; padding: 10px; flex-direction: row; gap: 5px; overflow-x: auto; border-bottom: 1px solid #333; }
            .set-nav-btn { white-space: nowrap; padding: 8px 15px; }
            .set-content { padding: 15px; }

            .mobile-back-btn {
                display: inline-block; padding: 5px 10px; margin-bottom: 10px;
                background: #333; border-radius: 5px; color: #fff; font-size: 0.8rem; cursor: pointer;
            }
        }
    </style>
</head>
<body>

    <div id="desktop">
        
        <div class="xp-widget">
            XP: <span id="xp-count">0</span> | LVL: <span id="lvl-count">1</span>
        </div>

        <div class="taskbar">
            <div class="dock-icon" onclick="AppManager.open('gmail')" style="color:#ea4335">
                üìß <div class="dock-tooltip">–ü–æ—á—Ç–∞</div>
            </div>
            <div class="dock-icon" onclick="AppManager.open('vk')" style="color:#0077FF">
                üí¨ <div class="dock-tooltip">VK</div>
            </div>
            <div class="dock-icon" onclick="AppManager.open('browser')" style="color:#FBC02D">
                üåê <div class="dock-tooltip">SafeWeb</div>
            </div>
            <div class="dock-icon" onclick="AppManager.open('files')" style="color:#FFA000">
                üìÅ <div class="dock-tooltip">MyFiles</div>
            </div>
            <!-- <div class="dock-icon" onclick="AppManager.open('store')" style="color:#fff">
                üõçÔ∏è <div class="dock-tooltip">Store</div>
            </div> -->
            <div class="dock-icon" onclick="AppManager.open('privacy')" style="color:#9E9E9E">
                ‚öôÔ∏è <div class="dock-tooltip">Privacy</div>
            </div>
            <div class="dock-icon" onclick="AppManager.open('updates')" style="color:#00d2ff">
                üîÑ <div class="dock-tooltip">Updates</div>
            </div>
        </div>

        <div id="win-gmail" class="window">
            <div class="win-header">
                <span class="win-title">Gmail</span>
                <div class="win-close" onclick="AppManager.close()">‚úñ</div>
            </div>
            <div class="win-body gmail-container">
                <div class="g-sidebar">
                    <div class="g-nav-item active" id="g-btn-inbox" onclick="Gmail.filter('inbox')">üì• –í—Ö–æ–¥—è—â–∏–µ</div>
                    <div class="g-nav-item" id="g-btn-starred" onclick="Gmail.filter('starred')">‚≠ê –í–∞–∂–Ω—ã–µ</div>
                    <div class="g-nav-item" id="g-btn-spam" onclick="Gmail.filter('spam')">‚ö†Ô∏è –°–ø–∞–º</div>
                    <div class="g-nav-item" id="g-btn-trash" onclick="Gmail.filter('trash')">üóëÔ∏è –ö–æ—Ä–∑–∏–Ω–∞</div>
                </div>
                <div class="g-list" id="g-list-container"></div>
                <div class="g-content" id="g-view-container">
                    <div style="height:100%; display:flex; align-items:center; justify-content:center; color:#444;">
                        –í—ã–±–µ—Ä–∏—Ç–µ –ø–∏—Å—å–º–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
                    </div>
                </div>
            </div>
        </div>

        <div id="win-vk" class="window">
            <div class="win-header">
                <span class="win-title">VK Messenger</span>
                <div class="win-close" onclick="AppManager.close()">‚úñ</div>
            </div>
            <div class="win-body vk-container">
                <div class="vk-list" id="vk-list-container"></div>
                <div class="vk-dialog">
                    <div class="win-header" id="vk-header-name" style="background:transparent; border:none;">–ß–∞—Ç</div>
                    <div class="vk-messages-area" id="vk-msgs-area"></div>
                    <div class="vk-input-area" id="vk-controls"></div>
                </div>
            </div>
        </div>

        <div id="win-browser" class="window">
            <div class="win-header">
                <span class="win-title">SafeWeb Browser v25.0</span>
                <div class="win-close" onclick="AppManager.close()">‚úñ</div>
            </div>
            <div class="win-body browser-shell">
                <div class="browser-toolbar">
                    <span style="cursor:pointer" onclick="Browser.prev()">‚¨ÖÔ∏è</span> 
                    <span style="cursor:pointer" onclick="Browser.next()">‚û°Ô∏è</span>
                    <div class="url-bar" id="browser-url"></div>
                </div>
                <div class="web-viewport" id="browser-content"></div>
            </div>
        </div>

        <div id="win-store" class="window">
            <div class="win-header">
                <span class="win-title">AppStore</span>
                <div class="win-close" onclick="AppManager.close()">‚úñ</div>
            </div>
            <div class="win-body store-layout">
                <div class="store-hero">
                    <h1>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ</h1>
                    <p>–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π.</p>
                </div>
                <div class="store-grid" id="store-grid"></div>
            </div>
        </div>

        <div id="win-files" class="window">
            <div class="win-header">
                <span class="win-title">My Documents</span>
                <div class="win-close" onclick="AppManager.close()">‚úñ</div>
            </div>
            <div class="win-body files-layout" id="files-grid"></div>
        </div>

        <div id="win-privacy" class="window">
            <div class="win-header">
                <span class="win-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</span>
                <div class="win-close" onclick="AppManager.close()">‚úñ</div>
            </div>
            <div class="win-body settings-layout">
                <div class="set-sidebar">
                    <div class="set-nav-btn active" onclick="Privacy.switchTab('general', this)">–û–±—â–∏–µ</div>
                    <div class="set-nav-btn" onclick="Privacy.switchTab('screen', this)">–≠–∫—Ä–∞–Ω</div>
                    <div class="set-nav-btn" onclick="Privacy.switchTab('privacy', this)">–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å</div>
                    <div class="set-nav-btn" onclick="Privacy.switchTab('network', this)">–°–µ—Ç—å</div>
                    <div class="set-nav-btn" onclick="Privacy.switchTab('account', this)">–ê–∫–∫–∞—É–Ω—Ç</div>
                </div>
                <div class="set-content" id="privacy-content"></div>
            </div>
        </div>

        <div id="win-updates" class="window">
            <div class="win-header">
                <span class="win-title">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã</span>
                <div class="win-close" onclick="AppManager.close()">‚úñ</div>
            </div>
            <div class="win-body updates-layout" id="updates-container">
                </div>
        </div>

    </div>

    <div id="feedback-overlay" onclick="document.getElementById('feedback-overlay').style.display='none'">
        <div class="fb-modal">
            <div class="fb-title" id="fb-title">Title</div>
            <div class="fb-text" id="fb-msg">Message</div>
            <div style="font-size:0.8rem; opacity:0.5;">(–ö–ª–∏–∫–Ω–∏—Ç–µ, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å)</div>
        </div>
    </div>

    <script>
   
        
        const MobileNav = {
            closeView(appId) {
                if (appId === 'gmail') document.getElementById('g-view-container').classList.remove('active');
                if (appId === 'vk') document.querySelector('.vk-dialog').classList.remove('active');
            }
        };

        const Game = {
            xp: 0,
            level: 1,
            addXP(amount) {
                this.xp += amount;
                this.level = Math.floor(this.xp / 500) + 1;
                document.getElementById('xp-count').innerText = this.xp;
                document.getElementById('lvl-count').innerText = this.level;
            },
            feedback(isCorrect, message) {
                const overlay = document.getElementById('feedback-overlay');
                const title = document.getElementById('fb-title');
                const msg = document.getElementById('fb-msg');
                
                if(isCorrect) {
                    title.innerText = "–û–¢–õ–ò–ß–ù–û!";
                    title.style.color = "var(--success)";
                    this.addXP(100);
                } else {
                    title.innerText = "–û–®–ò–ë–ö–ê!";
                    title.style.color = "var(--error)";
                }
                msg.innerText = message;
                overlay.style.display = 'flex';
            }
        };

        const AppManager = {
            currentApp: null,
            open(id) {
                if (this.currentApp) document.getElementById('win-' + this.currentApp).style.display = 'none';
                document.getElementById('win-' + id).style.display = 'flex';
                this.currentApp = id;
                
                if(id === 'gmail') Gmail.init();
                if(id === 'vk') VK.init();
                if(id === 'browser') Browser.render();
                if(id === 'store') Store.render();
                if(id === 'files') Files.render();
                if(id === 'privacy') Privacy.init();
                if(id === 'updates') Updates.init();
            },
            close() {
                if (this.currentApp) {
                    document.getElementById('win-' + this.currentApp).style.display = 'none';
                    if(this.currentApp === 'gmail') MobileNav.closeView('gmail');
                    if(this.currentApp === 'vk') MobileNav.closeView('vk');
                }
                this.currentApp = null;
            }
        };

        const Gmail = {
            currentFolder: 'inbox',
            emails: [
                { id: 1, from: "–ì–µ–Ω–¥–∏—Ä–µ–∫—Ç–æ—Ä", subj: "–°—Ä–æ—á–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥", body: "–°—Ä–æ—á–Ω–æ –æ–ø–ª–∞—Ç–∏ —Å—á–µ—Ç –ø–æ —Å—Å—ã–ª–∫–µ. –ù–µ –∑–≤–æ–Ω–∏, —è –∑–∞–Ω—è—Ç.", type: "inbox", starred: false, isSafe: false, reason: "–°—Ö–µ–º–∞ 'CEO Fraud'. –î–∞–≤—è—Ç –Ω–∞ —Å—Ä–æ—á–Ω–æ—Å—Ç—å." },
                { id: 2, from: "Netflix", subj: "–û—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã", body: "–û–±–Ω–æ–≤–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã –ø–æ —Å—Å—ã–ª–∫–µ netflix-secure.com", type: "spam", starred: false, isSafe: false, reason: "–§–∏—à–∏–Ω–≥. –ü—Ä–æ–≤–µ—Ä—å –¥–æ–º–µ–Ω." },
                { id: 3, from: "–ú–∞–º–∞", subj: "–†–µ—Ü–µ–ø—Ç –ø–∏—Ä–æ–≥–∞", body: "–°—Å—ã–ª–∫–∞ –Ω–∞ –±–ª–æ–≥: kulinaria.ru", type: "inbox", starred: true, isSafe: true, reason: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ." },
                { id: 4, from: "–ì–æ—Å—É—Å–ª—É–≥–∏", subj: "–®—Ç—Ä–∞—Ñ –ì–ò–ë–î–î", body: "–û–ø–ª–∞—Ç–∏—Ç–µ —Å–æ —Å–∫–∏–¥–∫–æ–π 50% —Å–µ–≥–æ–¥–Ω—è.", type: "inbox", starred: false, isSafe: false, reason: "–ú–æ—à–µ–Ω–Ω–∏–∫–∏ —á–∞—Å—Ç–æ –ø–æ–¥–¥–µ–ª—ã–≤–∞—é—Ç –≥–æ—Å–ø–æ—Ä—Ç–∞–ª—ã." },
                { id: 5, from: "Google Security", subj: "–ù–æ–≤—ã–π –≤—Ö–æ–¥", body: "–í—Ö–æ–¥ —Å iPhone 12 (–°–®–ê).", type: "inbox", starred: false, isSafe: true, reason: "–õ–µ–≥–∏—Ç–∏–º–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ." },
                { id: 6, from: "–ê–¥–≤–æ–∫–∞—Ç –°–º–∏—Ç", subj: "–ù–∞—Å–ª–µ–¥—Å—Ç–≤–æ", body: "–í–∞–º –∑–∞–≤–µ—â–∞–ª–∏ 5 –º–ª–Ω $.", type: "spam", starred: false, isSafe: false, reason: "–ù–∏–≥–µ—Ä–∏–π—Å–∫–æ–µ –ø–∏—Å—å–º–æ." },
                { id: 7, from: "Steam Support", subj: "Trade Offer", body: "–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ steeamcommunity.com", type: "inbox", starred: false, isSafe: false, reason: "–¢–∞–π–ø–æ—Å–∫–≤–æ—Ç—Ç–∏–Ω–≥ (steeam)." },
                { id: 8, from: "VK –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è", subj: "–û—Ü–µ–Ω–∫–∞ —Ñ–æ—Ç–æ", body: "–í–∞–º –ø–æ—Å—Ç–∞–≤–∏–ª–∏ 5+", type: "inbox", starred: false, isSafe: true, reason: "–û–±—ã—á–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ." }
            ],
            init() { this.filter('inbox'); },
            filter(folder) {
                this.currentFolder = folder;
                document.querySelectorAll('.g-nav-item').forEach(b => b.classList.remove('active'));
                document.getElementById('g-btn-' + folder).classList.add('active');
                let list = folder === 'starred' ? this.emails.filter(e => e.starred && e.type !== 'trash') : this.emails.filter(e => e.type === folder);
                this.renderList(list);
                const view = document.getElementById('g-view-container');
                view.innerHTML = '<div style="height:100%; display:flex; align-items:center; justify-content:center; color:#444;">–í—ã–±–µ—Ä–∏—Ç–µ –ø–∏—Å—å–º–æ</div>';
                view.classList.remove('active');
            },
            renderList(list) {
                const container = document.getElementById('g-list-container');
                container.innerHTML = '';
                if(list.length === 0) { container.innerHTML = '<div style="padding:20px; color:#555; text-align:center;">–ü–∞–ø–∫–∞ –ø—É—Å—Ç–∞</div>'; return; }
                list.forEach(mail => {
                    const div = document.createElement('div');
                    div.className = 'g-email-item unread';
                    div.innerHTML = `<div class="g-sender">${mail.from} <span class="g-star-icon ${mail.starred ? 'active' : ''}" onclick="Gmail.toggleStar(event, ${mail.id})">‚òÖ</span></div><div class="g-subj">${mail.subj}</div><div class="g-prev">${mail.body}</div>`;
                    div.onclick = (e) => { if(!e.target.classList.contains('g-star-icon')) this.openMail(mail); };
                    container.appendChild(div);
                });
            },
            toggleStar(e, id) {
                e.stopPropagation();
                const m = this.emails.find(x => x.id === id);
                if(m) { m.starred = !m.starred; this.filter(this.currentFolder); }
            },
            moveToTrash(id) {
                const m = this.emails.find(x => x.id === id);
                if(m) { m.type = 'trash'; m.starred = false; this.filter('inbox'); Game.feedback(true, "–í –∫–æ—Ä–∑–∏–Ω–µ."); MobileNav.closeView('gmail'); }
            },
            openMail(mail) {
                const view = document.getElementById('g-view-container');
                view.classList.add('active');
                const backBtn = window.innerWidth <= 768 ? `<div class="mobile-back-btn" onclick="MobileNav.closeView('gmail')">‚¨Ö –ù–∞–∑–∞–¥</div>` : '';
                const isTrash = mail.type === 'trash';
                view.innerHTML = `${backBtn}<div class="g-view-header"><h2>${mail.subj}</h2><div style="display:flex; align-items:center; margin-top:10px;"><div class="g-avatar-circle">${mail.from[0]}</div><div><div style="font-weight:bold;">${mail.from}</div><div style="font-size:0.8rem; color:#aaa;">–∫–æ–º—É: –º–Ω–µ</div></div></div></div><div style="line-height:1.6; font-size:1rem;">${mail.body}</div><div class="g-actions">${!isTrash ? `<button class="btn btn-success" onclick="Game.feedback(${mail.isSafe}, '${mail.reason}')">–≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ</button><button class="btn btn-danger" onclick="Game.feedback(${!mail.isSafe}, '${mail.reason}')">–≠—Ç–æ –º–æ—à–µ–Ω–Ω–∏–∫–∏</button><button class="btn" style="background:#333; color:#fff; margin-left:auto;" onclick="Gmail.moveToTrash(${mail.id})">–£–¥–∞–ª–∏—Ç—å</button>` : `<span style="color:red;">–£–¥–∞–ª–µ–Ω–æ</span>`}</div>`;
            }
        };

        const VK = {
            chats: [
                { id: 1, name: "–î–∏–º–∞", ava: "https://cdn-icons-png.flaticon.com/512/4140/4140048.png", msgs: [{in:true, text:"–°–∫–∏–Ω—å 5000—Ä –¥–æ –∑–∞–≤—Ç—Ä–∞!"}], opts: [{text:"–ö—É–¥–∞?", safe:false, r:"–í–∑–ª–æ–º! –ü–æ–∑–≤–æ–Ω–∏ –¥—Ä—É–≥—É."},{text:"–ü–æ–∑–≤–æ–Ω–∏—Ç—å", safe:true, r:"–í–µ—Ä–Ω–æ. –ü—Ä–æ–≤–µ—Ä—è–π –ø—Ä–æ—Å—å–±—ã –æ –¥–µ–Ω—å–≥–∞—Ö."}] },
                { id: 2, name: "–°—Ç–∞—Ä–æ—Å—Ç–∞", ava: "https://cdn-icons-png.flaticon.com/512/3006/3006876.png", msgs: [{in:true, text:"–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: schedule.docx"}], opts: [{text:"–°–∫–∞—á–∞—Ç—å", safe:true, r:"–î–æ–∫—É–º–µ–Ω—Ç—ã .docx –æ–±—ã—á–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã."}, {text:"–ò–≥–Ω–æ—Ä", safe:true, r:"–û—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å –Ω–µ –ø–æ–≤—Ä–µ–¥–∏—Ç."}] },
                { id: 3, name: "–ê–ª–∏–Ω–∞", ava: "https://cdn-icons-png.flaticon.com/512/6997/6997662.png", msgs: [{in:true, text:"–≠—Ç–æ —Ç—ã –Ω–∞ –≤–∏–¥–µ–æ?? http://vk-leak.com"}], opts: [{text:"–û—Ç–∫—Ä—ã—Ç—å", safe:false, r:"–§–∏—à–∏–Ω–≥ –∫—Ä–∞–∂–∏ –ø–∞—Ä–æ–ª—è."}, {text:"–ù–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å", safe:true, r:"–ü–æ–ø—É–ª—è—Ä–Ω—ã–π —Ä–∞–∑–≤–æ–¥."}] },
                { id: 4, name: "–ò–Ω–≤–µ—Å—Ç–æ—Ä", ava: "https://cdn-icons-png.flaticon.com/512/4140/4140037.png", msgs: [{in:true, text:"–í–ª–æ–∂–∏ 1000—Ä - –ø–æ–ª—É—á–∏ 10000—Ä!"}], opts: [{text:"–î–∞–≤–∞–π!", safe:false, r:"–ü–∏—Ä–∞–º–∏–¥–∞."}, {text:"–°–ø–∞–º", safe:true, r:"–í–µ—Ä–Ω–æ."}] },
                { id: 5, name: "Support VK", ava: "https://cdn-icons-png.flaticon.com/512/4712/4712109.png", msgs: [{in:true, text:"–ê–∫–∫–∞—É–Ω—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è. –î–∞–π –∫–æ–¥ –∏–∑ –°–ú–°."}], opts: [{text:"1234", safe:false, r:"–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ –ø—Ä–æ—Å–∏—Ç –∫–æ–¥—ã."}, {text:"–ë–∞–Ω", safe:true, r:"–ú–æ–ª–æ–¥–µ—Ü."}] },
                { id: 6, name: "–ë–æ—Ç", ava: "https://cdn-icons-png.flaticon.com/512/1077/1077114.png", msgs: [{in:true, text:"–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ iPhone! –û–ø–ª–∞—Ç–∏—Ç–µ –¥–æ—Å—Ç–∞–≤–∫—É."}], opts: [{text:"–ü–ª–∞—á—É!", safe:false, r:"–†–∞–∑–≤–æ–¥ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É."}, {text:"–£–¥–∞–ª–∏—Ç—å", safe:true, r:"–í–µ—Ä–Ω–æ."}] },
                { id: 7, name: "–ú–∞–º–∞", ava: "https://cdn-icons-png.flaticon.com/512/6997/6997662.png", msgs: [{in:true, text:"–ö—É–ø–∏ —Ö–ª–µ–±–∞."}], opts: [{text:"–û–∫", safe:true, r:"–≠—Ç–æ –º–∞–º–∞ :)"}] },
                { id: 8, name: "–ê–Ω–æ–Ω", ava: "https://cdn-icons-png.flaticon.com/512/4140/4140047.png", msgs: [{in:true, text:"–ü–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è?"}], opts: [{text:"–ü—Ä–∏–≤–µ—Ç", safe:true, r:"–ü–æ–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ."}, {text:"–ë–ª–æ–∫", safe:true, r:"–¢–≤–æ–µ –ø—Ä–∞–≤–æ."}] }
            ],
            init() {
                const list = document.getElementById('vk-list-container'); list.innerHTML = '';
                this.chats.forEach(chat => {
                    const el = document.createElement('div'); el.className = 'vk-chat-preview';
                    el.innerHTML = `<div class="vk-ava" style="background-image: url('${chat.ava}')"></div><div class="vk-info"><div class="vk-name">${chat.name}</div><div class="vk-last">${chat.msgs[0].text}</div></div>`;
                    el.onclick = () => this.openChat(chat);
                    list.appendChild(el);
                });
            },
            openChat(chat) {
                document.querySelector('.vk-dialog').classList.add('active');
                const backBtn = window.innerWidth <= 768 ? `<span class="mobile-back-btn" style="margin-right:10px;" onclick="MobileNav.closeView('vk')">‚¨Ö</span>` : '';
                document.getElementById('vk-header-name').innerHTML = backBtn + ' ' + chat.name;
                const area = document.getElementById('vk-msgs-area'); area.innerHTML = '';
                chat.msgs.forEach(m => area.innerHTML += `<div class="vk-bubble vk-in">${m.text}</div>`);
                const controls = document.getElementById('vk-controls'); controls.innerHTML = '';
                if(chat.opts) {
                    chat.opts.forEach(opt => {
                        const btn = document.createElement('button'); btn.className = 'btn btn-primary'; btn.innerText = opt.text;
                        btn.onclick = () => { area.innerHTML += `<div class="vk-bubble vk-out">${opt.text}</div>`; controls.innerHTML = ''; setTimeout(() => Game.feedback(opt.safe, opt.r), 600); };
                        controls.appendChild(btn);
                    });
                }
            }
        };

        const Browser = {
            sites: [
                { url: "https://online-sberbank.ru", safe: true, content: "<h1>–°–±–µ—Ä–±–∞–Ω–∫ –û–Ω–ª–∞–π–Ω</h1><p>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç. –í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω.</p>", r: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ: HTTPS –∏ –≤–µ—Ä–Ω—ã–π –¥–æ–º–µ–Ω." },
                { url: "http://vk-login-secure.net", safe: false, content: "<h1>–í–ö–æ–Ω—Ç–∞–∫—Ç–µ</h1><p>–°—Ä–æ—á–Ω–æ –≤–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É!</p>", r: "–û–ø–∞—Å–Ω–æ! HTTP –∏ –ª–µ–≤—ã–π –¥–æ–º–µ–Ω." },
                { url: "https://g0ogle.com/search", safe: false, content: "<h1>Google</h1><p>–ü–æ–∏—Å–∫...</p>", r: "–¢–∞–π–ø–æ—Å–∫–≤–æ—Ç—Ç–∏–Ω–≥: g0ogle (–Ω–æ–ª—å –≤–º–µ—Å—Ç–æ 'o')." },
                { url: "https://steamcommunity.com", safe: true, content: "<h1>Steam</h1><p>Welcome to Steam</p>", r: "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç." },
                
               
                { url: "https://netfIix.com/login", safe: false, content: "<h1>NETFLIX</h1><p>–í–∞—à–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞. –ü—Ä–æ–¥–ª–∏—Ç–µ —Å–µ–π—á–∞—Å –∑–∞ 1$.</p>", r: "–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ: netfIix (–±–æ–ª—å—à–∞—è 'i' –≤–º–µ—Å—Ç–æ 'l'). –≠—Ç–æ —Ñ–∏—à–∏–Ω–≥." },
                { url: "https://wikipedia.org", safe: true, content: "<h1>Wikipedia</h1><p>–°–≤–æ–±–æ–¥–Ω–∞—è —ç–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è.</p>", r: "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –í–∏–∫–∏–ø–µ–¥–∏–∏." },
                { url: "http://scan-pc-now.com", safe: false, content: "<h1>–í–ò–†–£–° –û–ë–ù–ê–†–£–ñ–ï–ù!</h1><p>–ù–∞–∂–º–∏—Ç–µ –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –æ—á–∏—Å—Ç–∏—Ç—å –ü–ö.</p>", r: "–≠—Ç–æ —Ñ–µ–π–∫–æ–≤—ã–π –∞–Ω—Ç–∏–≤–∏—Ä—É—Å. –ù–µ —Å–∫–∞—á–∏–≤–∞–π –Ω–∏—á–µ–≥–æ –æ—Ç—Å—é–¥–∞." },
                { url: "https://youtube.com", safe: true, content: "<h1>YouTube</h1><p>–°–º–æ—Ç—Ä–∏—Ç–µ –≤–∏–¥–µ–æ —Å–æ –≤—Å–µ–≥–æ –º–∏—Ä–∞.</p>", r: "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç." },
                { url: "https://elon-giveaway.com", safe: false, content: "<h1>Elon Musk Giveaway</h1><p>–û—Ç–ø—Ä–∞–≤—å 1 BTC, –ø–æ–ª—É—á–∏ 2 BTC –æ–±—Ä–∞—Ç–Ω–æ!</p>", r: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∫—Ä–∏–ø—Ç–æ-—Å–∫–∞–º. –ù–∏–∫—Ç–æ –Ω–µ —É–¥–≤–∞–∏–≤–∞–µ—Ç –¥–µ–Ω—å–≥–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ." },
                { url: "http://192.168.1.1-admin-setup.xyz", safe: false, content: "<h1>Router Admin</h1><p>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—à–∏–≤–∫–∏ —Ä–æ—É—Ç–µ—Ä–∞.</p>", r: "–°—Ç—Ä–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω .xyz –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ—É—Ç–µ—Ä–∞ ‚Äî —ç—Ç–æ –ª–æ–≤—É—à–∫–∞." },
                { url: "https://github.com", safe: true, content: "<h1>GitHub</h1><p>Where the world builds software.</p>", r: "–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–∞–π—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤." },
                { url: "https://dhl-track-package.ru.com", safe: false, content: "<h1>DHL Delivery</h1><p>–í–∞—à–∞ –ø–æ—Å—ã–ª–∫–∞ –∑–∞–¥–µ—Ä–∂–∞–Ω–∞. –û–ø–ª–∞—Ç–∏—Ç–µ –ø–æ—à–ª–∏–Ω—É.</p>", r: "–î–æ–º–µ–Ω —Ç—Ä–µ—Ç—å–µ–≥–æ —É—Ä–æ–≤–Ω—è (ru.com) —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ—à–µ–Ω–Ω–∏–∫–∏." },
                { url: "https://ozon-sale-90.ru", safe: false, content: "<h1>OZON SALE</h1><p>–õ–∏–∫–≤–∏–¥–∞—Ü–∏—è —Å–∫–ª–∞–¥–∞! –°–∫–∏–¥–∫–∏ 90% –Ω–∞ iPhone.</p>", r: "–°–ª–∏—à–∫–æ–º —â–µ–¥—Ä–æ –∏ –¥–æ–º–µ–Ω –ª–µ–≤—ã–π. –≠—Ç–æ —Å–∫–∞–º-–º–∞–≥–∞–∑–∏–Ω." },
                { url: "https://zoom.us", safe: true, content: "<h1>Zoom</h1><p>Video conferencing.</p>", r: "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç Zoom." }
            ],
            idx: 0,
            render() {
                const site = this.sites[this.idx];
                document.getElementById('browser-url').innerHTML = `<span class="lock-icon ${site.url.startsWith('https') ? '' : 'unsafe'}">${site.url.startsWith('https') ? 'üîí' : '‚ö†Ô∏è'}</span> ${site.url}`;
                document.getElementById('browser-content').innerHTML = `<div class="web-hero">${site.content}<hr style="margin:20px 0; border:0; border-top:1px solid #eee;"><p style="color:#777; margin-bottom:20px;">–í–∞—à–µ –¥–µ–π—Å—Ç–≤–∏–µ?</p><button class="btn-web" style="background:#10b981; color:white;" onclick="Browser.check(true)">–î–æ–≤–µ—Ä—è—é</button><button class="btn-web" style="background:#ef4444; color:white;" onclick="Browser.check(false)">–ó–∞–∫—Ä—ã—Ç—å —Å–∞–π—Ç</button></div>`;
            },
            check(userTrust) {
                const site = this.sites[this.idx];
                Game.feedback(site.safe === userTrust, site.r);
                this.next();
            },
            next() {
                this.idx = (this.idx + 1) % this.sites.length;
                this.render();
            },
            prev() {
                this.idx = (this.idx - 1 + this.sites.length) % this.sites.length;
                this.render();
            }
        };

        const Store = {
            apps: [
                { name: "Flashlight", icon: "üî¶", rating: "2.1", perms: "–î–æ—Å—Ç—É–ø: –°–ú–°, –ö–æ–Ω—Ç–∞–∫—Ç—ã", safe: false, r: "–§–æ–Ω–∞—Ä–∏–∫—É –Ω–µ –Ω—É–∂–Ω—ã –°–ú–°. –≠—Ç–æ —à–ø–∏–æ–Ω." },
                { name: "Calculator", icon: "üßÆ", rating: "4.8", perms: "–î–æ—Å—Ç—É–ø: –ù–µ—Ç", safe: true, r: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ." },
                { name: "Photo Editor", icon: "üì∏", rating: "4.5", perms: "–î–æ—Å—Ç—É–ø: –ì–∞–ª–µ—Ä–µ—è", safe: true, r: "–î–æ—Å—Ç—É–ø –æ–ø—Ä–∞–≤–¥–∞–Ω." },
                { name: "Free Robux", icon: "üí∞", rating: "1.0", perms: "–î–æ—Å—Ç—É–ø: –ü–∞—Ä–æ–ª–∏", safe: false, r: "–ú–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ." },
                { name: "Weather", icon: "‚õÖ", rating: "4.2", perms: "–î–æ—Å—Ç—É–ø: –ì–µ–æ–ø–æ–∑–∏—Ü–∏—è", safe: true, r: "–ü–æ–≥–æ–¥–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –≥–¥–µ —Ç—ã." },
                { name: "PDF Reader", icon: "üìÑ", rating: "3.9", perms: "–î–æ—Å—Ç—É–ø: –§–∞–π–ª—ã", safe: true, r: "–ù–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —á–∏—Ç–∞–ª–∫–∏." }
            ],
            render() {
                const grid = document.getElementById('store-grid'); grid.innerHTML = '';
                this.apps.forEach(app => {
                    const card = document.createElement('div'); card.className = 'app-card';
                    card.innerHTML = `<div class="app-card-icon">${app.icon}</div><div style="font-weight:bold;">${app.name}</div><div class="app-rating">‚≠ê ${app.rating}</div><div class="app-perms">${app.perms}</div><div style="margin-top:10px;"><button class="btn btn-success" onclick="Game.feedback(${app.safe}, '${app.r}')">–°–∫–∞—á–∞—Ç—å</button><button class="btn btn-danger" onclick="Game.feedback(${!app.safe}, '${app.r}')">–ñ–∞–ª–æ–±–∞</button></div>`;
                    grid.appendChild(card);
                });
            }
        };

        const Files = {
            items: [
                { name: "report.docx", type: "safe", icon: "üìÑ", r: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ." },
                { name: "foto.jpg", type: "safe", icon: "üñºÔ∏è", r: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ." },
                { name: "game_crack.exe", type: "virus", icon: "‚öôÔ∏è", r: ".exe –∏–∑ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ ‚Äî –≤–∏—Ä—É—Å." },
                { name: "doc.pdf.exe", type: "virus", icon: "üìÑ", r: "–î–≤–æ–π–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ!" },
                { name: "song.mp3", type: "safe", icon: "üéµ", r: "–ú—É–∑—ã–∫–∞." },
                { name: "run.bat", type: "virus", icon: "‚öôÔ∏è", r: "–°–∫—Ä–∏–ø—Ç –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª—ã." }
            ],
            render() {
                const grid = document.getElementById('files-grid'); grid.innerHTML = '';
                this.items.forEach(f => {
                    const el = document.createElement('div'); el.className = 'file-icon';
                    el.innerHTML = `<div class="f-img">${f.icon}</div><div class="f-name">${f.name}</div>`;
                    el.onclick = () => Game.feedback(f.type === 'safe', f.r);
                    grid.appendChild(el);
                });
            }
        };

        const Privacy = {
            activeTab: 'general',
            data: {
                'general': [
                    { title: "–Ø–∑—ã–∫ —Å–∏—Å—Ç–µ–º—ã", on: true, safe: true, r: "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —è–∑—ã–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞." },
                    { title: "–ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π", on: true, safe: true, r: "–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–∫—Ä—ã–≤–∞—é—Ç –¥—ã—Ä—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –õ—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º." }
                ],
                'screen': [
                    { title: "–¢–∞–π–º–∞—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —ç–∫—Ä–∞–Ω–∞ (30 –º–∏–Ω)", on: true, safe: false, r: "30 –º–∏–Ω—É—Ç ‚Äî —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ. –ï—Å–ª–∏ –ø–æ—Ç–µ—Ä—è–µ—à—å —Ç–µ–ª–µ—Ñ–æ–Ω, –≤–æ—Ä —É—Å–ø–µ–µ—Ç –≤—Å–µ —É–∫—Ä–∞—Å—Ç—å. –õ—É—á—à–µ 30 —Å–µ–∫." },
                    { title: "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —ç–∫—Ä–∞–Ω–µ", on: true, safe: false, r: "–õ—É—á—à–µ –≤—ã–∫–ª—é—á–∏—Ç—å, —á—Ç–æ–±—ã –Ω–∏–∫—Ç–æ –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–ª —Ç–≤–æ–∏ –°–ú–° —Å –∫–æ–¥–∞–º–∏ –±–∞–Ω–∫–∞." },
                    { title: "–°–º–∞—Ä—Ç-–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–¥–æ–º–∞)", on: false, safe: true, r: "–£–¥–æ–±–Ω–æ, –Ω–æ –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ. –í—ã–∫–ª—é—á–µ–Ω–æ ‚Äî –Ω–∞–¥–µ–∂–Ω–µ–µ." }
                ],
                'privacy': [
                    { title: "–î–æ—Å—Ç—É–ø '–§–æ–Ω–∞—Ä–∏–∫–∞' –∫ –°–ú–°", on: true, safe: false, r: "–§–æ–Ω–∞—Ä–∏–∫—É –Ω–µ –Ω—É–∂–Ω—ã –°–ú–°. –≠—Ç–æ —à–ø–∏–æ–Ω!" },
                    { title: "–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–∞ —Ñ–æ—Ç–æ", on: true, safe: false, r: "–û—Ç–∫–ª—é—á–∏–≤ –≥–µ–æ–º–µ—Ç–∫–∏, —Ç—ã –∑–∞—â–∏—â–∞–µ—à—å —Å–≤–æ–π –∞–¥—Ä–µ—Å –æ—Ç —Å—Ç–∞–ª–∫–µ—Ä–æ–≤." },
                    { title: "–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∫–ª–∞–º—ã", on: true, safe: false, r: "–≠—Ç–æ —Å–ª–µ–∂–∫–∞ –∑–∞ —Ç–≤–æ–∏–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º–∏. –õ—É—á—à–µ –≤—ã–∫–ª—é—á–∏—Ç—å." }
                ],
                'network': [
                    { title: "–ê–≤—Ç–æ-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –æ—Ç–∫—Ä—ã—Ç—ã–º Wi-Fi", on: true, safe: false, r: "–û–ø–∞—Å–Ω–æ! –û—Ç–∫—Ä—ã—Ç—ã–µ —Å–µ—Ç–∏ –º–æ–≥—É—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ." },
                    { title: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å VPN", on: false, safe: true, r: "VPN —à–∏—Ñ—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫. –í–∫–ª—é—á–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –∫–∞—Ñ–µ." },
                    { title: "Bluetooth –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω", on: true, safe: false, r: "–ß–µ—Ä–µ–∑ Bluetooth –º–æ–∂–Ω–æ –≤–∑–ª–æ–º–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ. –í—ã–∫–ª—é—á–∞–π, –µ—Å–ª–∏ –Ω–µ –ø–æ–ª—å–∑—É–µ—à—å—Å—è." }
                ],
                'account': [
                    { title: "–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (2FA)", on: false, safe: true, r: "–í–ö–õ–Æ–ß–ò –ù–ï–ú–ï–î–õ–ï–ù–ù–û! –≠—Ç–æ –≥–ª–∞–≤–Ω–∞—è –∑–∞—â–∏—Ç–∞ –∞–∫–∫–∞—É–Ω—Ç–∞." },
                    { title: "–°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–∞—Ä–æ–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ", on: true, safe: false, r: "–ï—Å–ª–∏ –≤–∏—Ä—É—Å —É–∫—Ä–∞–¥–µ—Ç —Ñ–∞–π–ª—ã –±—Ä–∞—É–∑–µ—Ä–∞, –æ–Ω –ø–æ–ª—É—á–∏—Ç –≤—Å–µ –ø–∞—Ä–æ–ª–∏. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑—É–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞—Ä–æ–ª–µ–π." }
                ]
            },
            init() { this.render(); },
            switchTab(tab, btn) {
                this.activeTab = tab;
                document.querySelectorAll('.set-nav-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                this.render();
            },
            render() {
                const container = document.getElementById('privacy-content');
                container.innerHTML = `<h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏: ${this.getTabName(this.activeTab)}</h3><p style="color:#777; margin-bottom:20px;">–ö—Ä–∞—Å–Ω—ã–π = –≤—ã–∫–ª, –ó–µ–ª–µ–Ω—ã–π = –≤–∫–ª. –ù–∞–π–¥–∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.</p>`;
                
                this.data[this.activeTab].forEach((item, idx) => {
                    const row = document.createElement('div');
                    row.className = 'toggle-row';
                    row.innerHTML = `<span>${item.title}</span><div class="toggle-switch ${item.on ? 'on' : ''}"></div>`;
                    row.querySelector('.toggle-switch').onclick = (e) => {
                        const el = e.target;
                        el.classList.toggle('on');
                        const isNowOn = el.classList.contains('on');
                        const correctAction = (item.safe === isNowOn);
                        Game.feedback(correctAction, item.r);
                    };
                    container.appendChild(row);
                });
            },
            getTabName(tab) {
                const names = { 'general': '–û–±—â–∏–µ', 'screen': '–≠–∫—Ä–∞–Ω –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å', 'privacy': '–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å', 'network': '–°–µ—Ç—å –∏ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç', 'account': '–ê–∫–∫–∞—É–Ω—Ç' };
                return names[tab];
            }
        };

        const Updates = {
            currentIdx: 0,
            scenarios: [
                { type: 'fake-ad', title: "–í–ê–® –ö–û–ú–ü–¨–Æ–¢–ï–† –ó–ê–†–ê–ñ–ï–ù!", text: "–ù–∞–π–¥–µ–Ω—ã (13) –≤–∏—Ä—É—Å–æ–≤. –ù–∞–∂–º–∏—Ç–µ –°–ö–ê–ß–ê–¢–¨, —á—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –∏—Ö.", btn: "–°–ö–ê–ß–ê–¢–¨ –õ–ï–ö–ê–†–°–¢–í–û", isReal: false, r: "–≠—Ç–æ —Ä–µ–∫–ª–∞–º–∞ (Fakeware). –ù–∞—Å—Ç–æ—è—â–∏–π –∞–Ω—Ç–∏–≤–∏—Ä—É—Å –Ω–µ –∫—Ä–∏—á–∏—Ç –∫–∞–ø—Å–æ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ." },
                { type: 'real-win', title: "–¶–µ–Ω—Ç—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Windows", text: "–ù–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ 22H2 (KB50233). –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.", btn: "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å", isReal: true, r: "–ü—Ä–∞–≤–∏–ª—å–Ω–æ, —ç—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã." },
                { type: 'fake-red', title: "CRITICAL ERROR #0x8842", text: "System files damaged. Download fix tool immediately.", btn: "Repair Now", isReal: false, r: "–§–µ–π–∫–æ–≤–æ–µ –æ–∫–Ω–æ –æ—à–∏–±–∫–∏. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–∞—á–∞–π 'repair tools' —Å —Ç–∞–∫–∏—Ö —Å–∞–π—Ç–æ–≤." },
                { type: 'fake-ad', title: "Flash Player —É—Å—Ç–∞—Ä–µ–ª", text: "–í–∞—à –ø–ª–µ–µ—Ä —É—Å—Ç–∞—Ä–µ–ª. –í–∏–¥–µ–æ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –û–±–Ω–æ–≤–∏—Ç–µ —Å–µ–π—á–∞—Å.", btn: "–û–±–Ω–æ–≤–∏—Ç—å Flash", isReal: false, r: "Flash Player –±–æ–ª—å—à–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç! –≠—Ç–æ 100% –≤–∏—Ä—É—Å." },
                { type: 'real-win', title: "Android System Update", text: "–ü–∞—Ç—á –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–ù–æ—è–±—Ä—å 2025). –†–∞–∑–º–µ—Ä: 45 –ú–ë.", btn: "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å", isReal: true, r: "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞—Ç—á Android. –°—Ç–∞–≤—å —Å–º–µ–ª–æ." },
                { type: 'fake-ad', title: "–°–∫–∞—á–∞—Ç—å –±–æ–ª—å—à–µ RAM", text: "–í–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä –º–µ–¥–ª–µ–Ω–Ω—ã–π? –°–∫–∞—á–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ 8 –ì–ë –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏!", btn: "–°–∫–∞—á–∞—Ç—å RAM", isReal: false, r: "–°–∫–∞—á–∞—Ç—å '–∂–µ–ª–µ–∑–æ' –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. –≠—Ç–æ —Å—Ç–∞—Ä—ã–π —Ä–∞–∑–≤–æ–¥." },
                { type: 'real-win', title: "Google Chrome", text: "–î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.", btn: "–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å", isReal: true, r: "–ë—Ä–∞—É–∑–µ—Ä—ã –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —ç–∫—Å–ø–ª–æ–π—Ç–æ–≤." },
                { type: 'fake-red', title: "Java Update (Not verified)", text: "Publisher: Unknown. Do you want to run setup.exe?", btn: "Run", isReal: false, r: "–ò–∑–¥–∞—Ç–µ–ª—å 'Unknown' (–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω)? –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–π —Ç–∞–∫–æ–µ." },
                { type: 'fake-ad', title: "Driver Booster Pack", text: "–£—Å–∫–æ—Ä—å –∏–≥—Ä—ã –Ω–∞ 200%! –û–±–Ω–æ–≤–∏ –≤—Å–µ –¥—Ä–∞–π–≤–µ—Ä—ã –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π.", btn: "–£—Å–∫–æ—Ä–∏—Ç—å –ü–ö", isReal: false, r: "–¢–∞–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –æ–±—ã—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç —Ç–æ–Ω–Ω—É –º—É—Å–æ—Ä–∞ –∏ —Ä–µ–∫–ª–∞–º—ã." },
                { type: 'real-win', title: "App Store", text: "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Telegram. –ß—Ç–æ –Ω–æ–≤–æ–≥–æ: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∞–≥–∏.", btn: "–û–±–Ω–æ–≤–∏—Ç—å", isReal: true, r: "–û–±—ã—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è." }
            ],
            init() {
                this.currentIdx = 0;
                this.render();
            },
            render() {
                const container = document.getElementById('updates-container');
                const item = this.scenarios[this.currentIdx];
                
                let styleClass = '';
                if (item.type === 'fake-ad') styleClass = 'upd-fake-ad';
                else if (item.type === 'fake-red') styleClass = 'upd-fake-red';
                else styleClass = 'upd-real-win';

                container.innerHTML = `
                    <div style="color:#fff; margin-bottom:10px;">–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π ${this.currentIdx + 1} –∏–∑ ${this.scenarios.length}...</div>
                    <div class="update-card-container ${styleClass}">
                        <div class="upd-header">
                            <div style="width:15px; height:15px; background:${item.isReal ? '#0078d7' : 'red'}; border-radius:50%;"></div>
                            <b>${item.title}</b>
                        </div>
                        <div class="upd-body">
                            <p style="font-size:1.1rem; margin-bottom:15px;">${item.text}</p>
                            <button class="btn btn-primary" style="width:100%;" onclick="Updates.check(true)">${item.btn}</button>
                        </div>
                    </div>
                    <div class="upd-btn-row">
                        <button class="btn btn-secondary" onclick="Updates.check(false)">–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å / –≠—Ç–æ –≤–∏—Ä—É—Å</button>
                    </div>
                `;
            },
            check(userTrust) {
                const item = this.scenarios[this.currentIdx];
                const isCorrect = (item.isReal === userTrust);
                Game.feedback(isCorrect, item.r);
                
                this.currentIdx = (this.currentIdx + 1) % this.scenarios.length;
                setTimeout(() => this.render(), 1000); 
            }
        };

    </script>
</body>
</html>